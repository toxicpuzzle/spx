[SPX] Starting
[SPX] Trading 3 products: BTC ETH DOGE
[SPX] Created FIFO /tmp/spx_exchange_0
[SPX] Created FIFO /tmp/spx_trader_0
[SPX] Starting trader 0 (./test_trader)
[SPX] Connected to /tmp/spx_exchange_0
[SPX] Connected to /tmp/spx_trader_0
[SPX] Created FIFO /tmp/spx_exchange_1
[SPX] Created FIFO /tmp/spx_trader_1
[SPX] Starting trader 1 (./test_trader2)
[SPX] Connected to /tmp/spx_exchange_1
[SPX] Connected to /tmp/spx_trader_1
[SPX] Created FIFO /tmp/spx_exchange_2
[SPX] Created FIFO /tmp/spx_trader_2
[SPX] Starting trader 2 (./test_trader3)
[SPX] Connected to /tmp/spx_exchange_2
[SPX] Connected to /tmp/spx_trader_2
[SPX] [T0] Parsing command: <BUY 0 BTC 30 50000>
[SPX]	--ORDERBOOK--
[SPX]	Product: BTC; Buy levels: 1; Sell levels: 0
[SPX]		BUY 30 @ $50000 (1 order)
[SPX]	Product: ETH; Buy levels: 0; Sell levels: 0
[SPX]	Product: DOGE; Buy levels: 0; Sell levels: 0
[SPX]	--POSITIONS--
[SPX]	Trader 0: BTC 0 ($0), ETH 0 ($0), DOGE 0 ($0)
[SPX]	Trader 1: BTC 0 ($0), ETH 0 ($0), DOGE 0 ($0)
[SPX]	Trader 2: BTC 0 ($0), ETH 0 ($0), DOGE 0 ($0)
[SPX] [T0] Parsing command: <BUY 1 ETH 30 4000>
[SPX]	--ORDERBOOK--
[SPX]	Product: BTC; Buy levels: 1; Sell levels: 0
[SPX]		BUY 30 @ $50000 (1 order)
[SPX]	Product: ETH; Buy levels: 1; Sell levels: 0
[SPX]		BUY 30 @ $4000 (1 order)
[SPX]	Product: DOGE; Buy levels: 0; Sell levels: 0
[SPX]	--POSITIONS--
[SPX]	Trader 0: BTC 0 ($0), ETH 0 ($0), DOGE 0 ($0)
[SPX]	Trader 1: BTC 0 ($0), ETH 0 ($0), DOGE 0 ($0)
[SPX]	Trader 2: BTC 0 ($0), ETH 0 ($0), DOGE 0 ($0)
[SPX] [T0] Parsing command: <BUY 2 DOGE 1000 2>
[SPX]	--ORDERBOOK--
[SPX]	Product: BTC; Buy levels: 1; Sell levels: 0
[SPX]		BUY 30 @ $50000 (1 order)
[SPX]	Product: ETH; Buy levels: 1; Sell levels: 0
[SPX]		BUY 30 @ $4000 (1 order)
[SPX]	Product: DOGE; Buy levels: 1; Sell levels: 0
[SPX]		BUY 1000 @ $2 (1 order)
[SPX]	--POSITIONS--
[SPX]	Trader 0: BTC 0 ($0), ETH 0 ($0), DOGE 0 ($0)
[SPX]	Trader 1: BTC 0 ($0), ETH 0 ($0), DOGE 0 ($0)
[SPX]	Trader 2: BTC 0 ($0), ETH 0 ($0), DOGE 0 ($0)
[SPX] Trader 0 disconnected
[SPX] [T1] Parsing command: <BUY 0 BTC 30 50000>
[SPX]	--ORDERBOOK--
[SPX]	Product: BTC; Buy levels: 1; Sell levels: 0
[SPX]		BUY 60 @ $50000 (2 orders)
[SPX]	Product: ETH; Buy levels: 1; Sell levels: 0
[SPX]		BUY 30 @ $4000 (1 order)
[SPX]	Product: DOGE; Buy levels: 1; Sell levels: 0
[SPX]		BUY 1000 @ $2 (1 order)
[SPX]	--POSITIONS--
[SPX]	Trader 0: BTC 0 ($0), ETH 0 ($0), DOGE 0 ($0)
[SPX]	Trader 1: BTC 0 ($0), ETH 0 ($0), DOGE 0 ($0)
[SPX]	Trader 2: BTC 0 ($0), ETH 0 ($0), DOGE 0 ($0)
[SPX] [T1] Parsing command: <BUY 1 ETH 30 4000>
[SPX]	--ORDERBOOK--
[SPX]	Product: BTC; Buy levels: 1; Sell levels: 0
[SPX]		BUY 60 @ $50000 (2 orders)
[SPX]	Product: ETH; Buy levels: 1; Sell levels: 0
[SPX]		BUY 60 @ $4000 (2 orders)
[SPX]	Product: DOGE; Buy levels: 1; Sell levels: 0
[SPX]		BUY 1000 @ $2 (1 order)
[SPX]	--POSITIONS--
[SPX]	Trader 0: BTC 0 ($0), ETH 0 ($0), DOGE 0 ($0)
[SPX]	Trader 1: BTC 0 ($0), ETH 0 ($0), DOGE 0 ($0)
[SPX]	Trader 2: BTC 0 ($0), ETH 0 ($0), DOGE 0 ($0)
[SPX] [T1] Parsing command: <BUY 2 DOGE 1100 2>
[SPX]	--ORDERBOOK--
[SPX]	Product: BTC; Buy levels: 1; Sell levels: 0
[SPX]		BUY 60 @ $50000 (2 orders)
[SPX]	Product: ETH; Buy levels: 1; Sell levels: 0
[SPX]		BUY 60 @ $4000 (2 orders)
[SPX]	Product: DOGE; Buy levels: 1; Sell levels: 0
[SPX]		BUY 2100 @ $2 (2 orders)
[SPX]	--POSITIONS--
[SPX]	Trader 0: BTC 0 ($0), ETH 0 ($0), DOGE 0 ($0)
[SPX]	Trader 1: BTC 0 ($0), ETH 0 ($0), DOGE 0 ($0)
[SPX]	Trader 2: BTC 0 ($0), ETH 0 ($0), DOGE 0 ($0)
[SPX] [T2] Parsing command: <SELL 0 BTC 50 40000>
[SPX] Match: Order 0 [T0], New Order 0 [T2], value: $1500000, fee: $15000.
[SPX] Match: Order 0 [T1], New Order 0 [T2], value: $1000000, fee: $10000.
[SPX]	--ORDERBOOK--
[SPX]	Product: BTC; Buy levels: 1; Sell levels: 0
[SPX]		BUY 10 @ $50000 (1 order)
[SPX]	Product: ETH; Buy levels: 1; Sell levels: 0
[SPX]		BUY 60 @ $4000 (2 orders)
[SPX]	Product: DOGE; Buy levels: 1; Sell levels: 0
[SPX]		BUY 2100 @ $2 (2 orders)
[SPX]	--POSITIONS--
[SPX]	Trader 0: BTC 30 ($-1500000), ETH 0 ($0), DOGE 0 ($0)
[SPX]	Trader 1: BTC 20 ($-1000000), ETH 0 ($0), DOGE 0 ($0)
[SPX]	Trader 2: BTC -50 ($2475000), ETH 0 ($0), DOGE 0 ($0)
[SPX] [T2] Parsing command: <SELL 1 ETH 60 2000>
[SPX] Match: Order 1 [T0], New Order 1 [T2], value: $120000, fee: $1200.
[SPX] Match: Order 1 [T1], New Order 1 [T2], value: $120000, fee: $1200.
[SPX]	--ORDERBOOK--
[SPX]	Product: BTC; Buy levels: 1; Sell levels: 0
[SPX]		BUY 10 @ $50000 (1 order)
[SPX]	Product: ETH; Buy levels: 0; Sell levels: 0
[SPX]	Product: DOGE; Buy levels: 1; Sell levels: 0
[SPX]		BUY 2100 @ $2 (2 orders)
[SPX]	--POSITIONS--
[SPX]	Trader 0: BTC 30 ($-1500000), ETH 30 ($-120000), DOGE 0 ($0)
[SPX]	Trader 1: BTC 20 ($-1000000), ETH 30 ($-120000), DOGE 0 ($0)
[SPX]	Trader 2: BTC -50 ($2475000), ETH -60 ($237600), DOGE 0 ($0)
[SPX] [T2] Parsing command: <SELL 2 DOGE 100000 1>
[SPX] Match: Order 2 [T0], New Order 2 [T2], value: $2000, fee: $20.
[SPX] Match: Order 2 [T1], New Order 2 [T2], value: $2200, fee: $22.
[SPX]	--ORDERBOOK--
[SPX]	Product: BTC; Buy levels: 1; Sell levels: 0
[SPX]		BUY 10 @ $50000 (1 order)
[SPX]	Product: ETH; Buy levels: 0; Sell levels: 0
[SPX]	Product: DOGE; Buy levels: 0; Sell levels: 1
[SPX]		SELL 97900 @ $1 (1 order)
[SPX]	--POSITIONS--
[SPX]	Trader 0: BTC 30 ($-1500000), ETH 30 ($-120000), DOGE 1000 ($-2000)
[SPX]	Trader 1: BTC 20 ($-1000000), ETH 30 ($-120000), DOGE 1100 ($-2200)
[SPX]	Trader 2: BTC -50 ($2475000), ETH -60 ($237600), DOGE -2100 ($4158)
[SPX] Trader 1 disconnected
[SPX] Trader 2 disconnected
[SPX] Trading completed
[SPX] Exchange fees collected: $27442
